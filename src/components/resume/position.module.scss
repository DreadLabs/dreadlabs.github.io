@import "../layout/variables";

.resume {
  &__position {
    position: relative;
    margin: 2em 0;

    // clearfix
    &::after {
      content: '';
      display: table;
      clear: both;
    }

    &-waypoint {
      border-radius: 50%;
      box-shadow: 0 0 0 4px white, 0 0 0 6px #cfd8dc, 0 2px 0 6px rgba(33, 33, 33, 0.05);
      background-color: $dreadlabs-theme-primary-contrast;

      position: absolute;
      top: 19px;
      left: 6px;

      width: 8px;
      height: 8px;

      //position: sticky;
      //top: 64px;
    }

    &-content {
      position: relative;
      margin-left: 34px;
      margin-right: 17px;
      background: white;
      border-radius: 0.25em;
      padding: 1em;
      box-shadow: 0 3px 3px #e0e0e0;

      // clearfix
      //&:after {
      //  content: '';
      //  display: table;
      //  clear: both;
      //}

      // pointer / tail
      &::before {
        content: '';
        position: absolute;
        top: 16px;
        right: 100%;
        height: 0;
        width: 0;
        border: 7px solid transparent;
        border-right: 7px solid white;
      }

      h4 {
        margin-top: 0;
        margin-bottom: 0;
      }

      p, ul, ol {
        font-size: 1rem;
      }
      ul {
        padding-left: 1.25rem;
      }
    }

    &-title {

      // @see https://gedd.ski/post/position-sticky/
      position: sticky;
      top: 56px;

      padding-bottom: 1em;

      &--stuck {
        background: #fff;
        margin-left: -1em;
        margin-right: -1em;
        padding-left: 1em;
        padding-right: 1em;

        z-index: 1;
      }
    }

    &-date {
      font-size: 0.825em;
      opacity: .7;
    }

    &-place {
      font-size: 18px !important;
      vertical-align: -0.2em;
    }
  }
}


@media only screen and (min-width: 1170px) {
  .resume {
    &__position {
      margin: 2em 0;

      &-waypoint {
        width: 16px;
        height: 16px;
        left: 50%;
        top: 24px;
        margin-left: -8px;
        box-shadow: 0 0 0 4px white, 0 0 0 8px #cfd8dc, 0 3px 0 8px rgba(33, 33, 33, 0.05);
      }

      &-title {
        float: right;

        position: absolute;
        left: 117%;
        top: 1em;

        width: 100%;

        &--right {
          left: -117%;
          text-align: right;
        }

        &--stuck {
          background: none;
        }

        h5 {
          margin: 0;
        }
      }

      &-date {
        padding: 1.25em 0;
      }

      &-content {
        margin-left: 0;
        margin-right: 0;
        padding: 1.6em;
        width: 40%;

        &::before {
          border-color: transparent;
          border-left-color: white;

          left: 100%;
          top: 24px;
        }

        &--right {
          float: right;

          &::before {
            border-color: transparent;
            border-right-color: white;

            left: auto;
            right: 100%;
            top: 24px;
          }
        }
      }
    }
  }
}
